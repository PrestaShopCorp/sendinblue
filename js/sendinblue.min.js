/**
* 2007-2015 PrestaShop
*
* NOTICE OF LICENSE
*
* This source file is subject to the Academic Free License (AFL 3.0)
* that is bundled with this package in the file LICENSE.txt.
* It is also available through the world-wide-web at this URL:
* http://opensource.org/licenses/afl-3.0.php
* If you did not receive a copy of the license and are unable to
* obtain it through the world-wide-web, please send an email
* to license@prestashop.com so we can send you a copy immediately.
*
* DISCLAIMER
*
* Do not edit or add to this file if you wish to upgrade PrestaShop to newer
* versions in the future. If you wish to customize PrestaShop for your
* needs please refer to http://www.prestashop.com for more information.
*
* @author    PrestaShop SA <contact@prestashop.com>
* @copyright 2007-2015 PrestaShop SA
* @license   http://opensource.org/licenses/afl-3.0.php Academic Free License (AFL 3.0)
* International Registered Trademark & Property of PrestaShop SA
*/

$(document).ready(function(){var c=jQuery("#customtoken").val();var a=jQuery("#id_shop_group").val();var f=jQuery("#id_shop").val();if(!$("#apikeybox").is(":hidden")){$("#sender_order").keyup(function(){var j=$(this).val();if(isInteger(j)||j.length==0){$("#sender_order").attr("maxlength","11");$("#sender_order_text").text((11-j.length))}else{$("#sender_order").attr("maxlength","11");$("#sender_order_text").text((11-j.length))}});if($("#sender_order").val()!=""){var b=$("#sender_order").val();if(isInteger(b)||b.length==0){$("#sender_order").attr("maxlength","11");$("#sender_order_text").text((11-b.length))}else{$("#sender_order").attr("maxlength","11");$("#sender_order_text").text((11-b.length))}}$("#sender_order").keydown(function(j){if(j.keyCode==32){j.preventDefault()}});$("#sender_order_message").keyup(function(){var l=this.value.length,k=Math.ceil(l/160),j=k*160-(l%(k*160)||k*160);if(j==0){j=160}$("#sender_order_message_text").text(j);$("#sender_order_message_text_count").text(k)});if($("#sender_order_message").val()!=""){var i=$("#sender_order_message").val().length,e=Math.ceil(i/160),d=e*160-(i%(e*160)||e*160);$("#sender_order_message_text").text(d);$("#sender_order_message_text_count").text(e)}$("#sender_shipment").keyup(function(){var j=$(this).val();if(isInteger(j)||j.length==0){$("#sender_shipment").attr("maxlength","11");$("#sender_shipment_text").text((11-j.length))}else{$("#sender_shipment").attr("maxlength","11");$("#sender_shipment_text").text((11-j.length))}});if($("#sender_shipment").val()!=""){var b=$("#sender_shipment").val();if(isInteger(b)||b.length==0){$("#sender_shipment").attr("maxlength","11");$("#sender_shipment_text").text((11-b.length))}else{$("#sender_shipment").attr("maxlength","11");$("#sender_shipment_text").text((11-b.length))}}$("#sender_shipment").keydown(function(j){if(j.keyCode==32){j.preventDefault()}});$("#sender_shipment_message").keyup(function(){var l=this.value.length,k=Math.ceil(l/160),j=k*160-(l%(k*160)||k*160);if(j==0){j=160}$("#sender_shipment_message_text").text(j);$("#sender_shipment_message_text_count").text(k)});if($("#sender_shipment_message").val()!=""){var i=$("#sender_shipment_message").val().length,e=Math.ceil(i/160),d=e*160-(i%(e*160)||e*160);$("#sender_shipment_message_text").text(d);$("#sender_shipment_message_text_count").text(e)}$("#sender_campaign").keyup(function(){var j=$(this).val();if(isInteger(j)||j.length==0){$("#sender_campaign").attr("maxlength","11");$("#sender_campaign_text").text((11-j.length))}else{$("#sender_campaign").attr("maxlength","11");$("#sender_campaign_text").text((11-j.length))}});if($("#sender_campaign").val()!=""){var b=$("#sender_campaign").val();if(isInteger(b)||b.length==0){$("#sender_campaign").attr("maxlength","11");$("#sender_campaign_text").text((11-b.length))}else{$("#sender_campaign").attr("maxlength","11");$("#sender_campaign_text").text((11-b.length))}}$("#sender_campaign").keydown(function(j){if(j.keyCode==32){j.preventDefault()}});$("#sender_campaign_message").keyup(function(){var l=this.value.length,k=Math.ceil(l/160),j=k*160-(l%(k*160)||k*160);if(j==0){j=160}$("#sender_campaign_message_text").text(j);$("#sender_campaign_message_text_count").text(k)});if($("#sender_campaign_message").val()!=""){var i=$("#sender_campaign_message").val().length,e=Math.ceil(i/160),d=e*160-(i%(e*160)||e*160);$("#sender_campaign_message_text").text(d);$("#sender_campaign_message_text_count").text(e)}$(".sms_order_setting").click(function(){var k=jQuery(this).val();var j="Order";$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxOrderSetting.php",data:"orderSetting="+k+"&token="+c+"&type="+j+"&id_shop_group="+a+"&id_shop="+f,beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();if(k==1){jQuery(".hideOrder").show()}else{jQuery(".hideOrder").hide()}}})});$(".sms_shiping_setting").click(function(){var k=jQuery(this).val();var j="shiping";$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxOrderSetting.php",data:"shipingSetting="+k+"&token="+c+"&type="+j+"&id_shop_group="+a+"&id_shop="+f,beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();if(k==1){jQuery(".hideShiping").show()}else{jQuery(".hideShiping").hide()}}})});$(".sms_campaign_setting").click(function(){var k=jQuery(this).val();var j="campaign";$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxOrderSetting.php",data:"campaignSetting="+k+"&token="+c+"&type="+j+"&id_shop_group="+a+"&id_shop="+f,beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();if(k==1){jQuery(".hideCampaign").show()}else{jQuery(".hideCampaign").hide()}}})});if($("input:radio[name=sms_order_setting]:checked").val()==0){$(".hideOrder").hide()}else{$(".hideOrder").show()}$(".Sendin_Sms_Choice").click(function(){if(jQuery(this).val()==1){jQuery(".multiplechoice").hide();jQuery(".singlechoice").show()}else{jQuery(".multiplechoice").show();jQuery(".singlechoice").hide()}});if($("input:radio[name=Sendin_Sms_Choice]:checked").val()==2){jQuery(".multiplechoice").show();jQuery(".singlechoice").hide()}else{jQuery(".singlechoice").show();jQuery(".multiplechoice").hide()}$(".sms_shiping_setting").click(function(){if(jQuery(this).val()==1){jQuery(".hideShiping").show()}else{jQuery(".hideShiping").hide()}});if($("input:radio[name=Sendin_Sms_Choice]:checked").val()==0){jQuery(".multiplechoice").show();jQuery(".singlechoice").hide()}else{jQuery(".singlechoice").show();jQuery(".multiplechoice").hide()}$(".sms_shiping_setting").click(function(){if(jQuery(this).val()==1){jQuery(".hideShiping").show()}else{jQuery(".hideShiping").hide()}});jQuery("#r1_Sendin_Sms_Choice").attr("checked",true);if($("input:radio[name=sms_credit]:checked").val()==0){jQuery(".hideCredit").hide()}else{jQuery(".hideCredit").show()}$(".sms_credit").click(function(){var j=jQuery(this).val();var k="sms_credit";$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxOrderSetting.php",data:"sms_credit="+j+"&token="+c+"&type="+k+"&id_shop_group="+a+"&id_shop="+f,beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();if(j==1){jQuery(".hideCredit").show()}else{jQuery(".hideCredit").hide()}}})});if($("input:radio[name=sms_shiping_setting]:checked").val()==0){$(".hideShiping").hide()}else{$(".hideShiping").show()}$(".sms_campaign_setting").click(function(){if(jQuery(this).val()==1){jQuery(".hideCampaign").show()}else{jQuery(".hideCampaign").hide()}});if($("input:radio[name=sms_campaign_setting]:checked").val()==0){$(".hideCampaign").hide()}else{$(".hideCampaign").show()}$("#selectSmsList").multiselect({header:false,checkall:false});$("#tabs li").click(function(){$("#tabs li").removeClass("active");$(this).addClass("active");$(".tab_content").hide();var j=$(this).find("a").attr("href");$(j).fadeIn();return false})}$("#showUserlist").click(function(){if($("#userDetails").is(":hidden")){var j=$(".midleft tr").length;if(j<=0){if(g(1,c)){$("#Spantextless").show();$("#Spantextmore").hide()}}else{$("#Spantextless").show();$("#Spantextmore").hide()}}else{$("#Spantextmore").show();$("#Spantextless").hide()}$("#userDetails").slideToggle()});$("#select").multiselect({header:false,checkall:false});$(".keyyes").click(function(){if(jQuery(this).val()==1){jQuery("#apikeybox").show();jQuery(".hidetableblock").show();jQuery(".unsubscription").show();jQuery(".listData").show()}else{jQuery("#apikeybox").hide();jQuery(".hidetableblock").hide();jQuery(".unsubscription").hide();jQuery(".listData").hide()}});$(".script").click(function(){var j=jQuery(this).val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajax.php",data:{script:j,token:c,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(k){$("#ajax-busy").hide()}})});$(".smtptestclick").click(function(){var k=jQuery(this).val();var j=jQuery("#customtoken").val();if(k==0){$("#smtptest").hide()}if(k==1){$("#smtptest").show()}$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxsmtpconfig.php",data:{smtptest:k,token:j,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide()}})});var h=$("input:radio[name=managesubscribe]:checked").val();if(h==0){$(".managesubscribeBlock").hide()}else{$(".managesubscribeBlock").show()}$(".managesubscribe").click(function(){var k=jQuery(this).val();var j=jQuery("#customtoken").val();if(k==0){$(".managesubscribeBlock").hide()}if(k==1){$(".managesubscribeBlock").show()}$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxsubscribeconfig.php",data:{managesubscribe:k,token:j,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide()}})});var c=jQuery("#customtoken").val();$('<div id="ajax-busy"/> loading..').css({opacity:0.5,position:"fixed",top:0,left:0,width:"100%",height:$(window).height()+"px",background:"white url("+base_url+"modules/sendinblue/img/loader.gif) no-repeat center"}).hide().appendTo("body");$(".ajax_contacts_href").live("click",function(n){var l=$(this).attr("email");var k=$(this).attr("status");var m=jQuery("#customtoken").val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxcall.php",data:{email_value:l,newsletter_value:k,token:m,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(o){$("#ajax-busy").hide()}});var j=$("#page_no").val();g(j,m)});$(".ajax_sms_href").live("click",function(m){var k=$(this).attr("email");var l=jQuery("#customtoken").val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxSmsStatus.php",data:{email:k,token:l,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(n){$("#ajax-busy").hide()}});var j=$("#page_no").val();g(j,l)});$("#oem_list").change(function(){var k="";var j=($("#oem_list option:selected").length-1);$("#oem_list option:selected").each(function(l,m){k+=$(this).text();if(l<j){k+=","}});$("#em_text_val").val(k)}).change();$(".validationHook").click(function(){var l=$("#hooksname").val();var k=$("#em_text_val").val();var j=$("#hookerrormsg").val();if(l!=""&&k!=""){return true}else{alert(j);return false}});$(".rightColumn").click(function(){var j=jQuery(this).val();var k=jQuery("#customtoken").val();var l=$(".rightColumn").attr("name");$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxhookPosition.php",data:{blockname:l,blockvalue:j,token:k,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(m){if(j==1){$("#hooksname").append('<option value="'+m+'">'+l+"</option>")}else{$("#hooksname option:contains('"+l+"')").remove()}$("#ajax-busy").hide()}})});$(".leftColumn").click(function(){var j=jQuery(this).val();var k=jQuery("#customtoken").val();var l=$(".leftColumn").attr("name");$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxhookPosition.php",data:{blockname:l,blockvalue:j,token:k,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(m){if(j==1){$("#hooksname").append('<option value="'+m+'">'+l+"</option>")}else{$("#hooksname option:contains('"+l+"')").remove()}$("#ajax-busy").hide()}})});$(".footer").click(function(){var j=jQuery(this).val();var k=jQuery("#customtoken").val();var l=$(".footer").attr("name");$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxhookPosition.php",data:{blockname:l,blockvalue:j,token:k,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(m){if(j==1){$("#hooksname").append('<option value="'+m+'">'+l+"</option>")}else{$("#hooksname option:contains('"+l+"')").remove()}$("#ajax-busy").hide()}})});$(".top").click(function(){var j=jQuery(this).val();var k=jQuery("#customtoken").val();var l=$(".top").attr("name");$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxhookPosition.php",data:{blockname:l,blockvalue:j,token:k,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(m){if(j==1){$("#hooksname").append('<option value="'+m+'">'+l+"</option>")}else{$("#hooksname option:contains('"+l+"')").remove()}$("#ajax-busy").hide()}})});$(".ordertracking").click(function(){var j=jQuery(this).val();var k=jQuery("#customtoken").val();if(j==0){$("#ordertrack").hide()}if(j==1){$("#ordertrack").show()}});$("#importOrderTrack").click(function(){var k=jQuery("#importmsg").val();var j=jQuery("#customtoken").val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxOrderTracking.php",data:{token:j,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();$("#ordertrack").hide();alert(k)}})});function g(k,j){$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxemailresult.php",data:{page:k,token:j,id_shop_group:a,id_shop:f},beforeSend:function(){$("#ajax-busy").show()},success:function(l){$("#ajax-busy").hide();$(".midleft").html(l);$(".midleft").ajaxComplete(function(o,n,m){$(".midleft").html(l)});return true}})}$(".pagination li.active").livequery("click",function(){var j=$(this).attr("p");$("#page_no").val(j);g(j,c)});$(".toolTip").live("mouseover mouseout",function(k){var m=$(this).attr("title");var l=$(this).offset();if(k.type=="mouseover"){$("body").append('<div id="tipkk" style="top:'+l.top+"px; left:"+l.left+'px; ">'+m+"</div>");var j=$("#tipkk").height()+25;$("#tipkk").css("top",(l.top-j)+"px")}else{if(k.type=="mouseout"){$("#tipkk").remove()}}})});$(".testOrdersmssend").live("click",function(){var g=$(this).attr("successmsg");var i=$(this).attr("failmsg");var b=$("#customtoken").val();var c=$("#langvalue").val();var f=$("#sender_order").val();var h=$("#sender_order_message").val();var d=$("#sender_order_number").val();var a=$("#id_shop_group").val();var e=$("#id_shop").val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxtestsms.php",data:{sender:f,message:h,number:d,langvalue:c,token:b,id_shop_group:a,id_shop:e},beforeSend:function(){$("#ajax-busy").show()},success:function(k){$("#ajax-busy").hide();var j=$.parseJSON(k);if(j.result==true){alert(g)}else{alert(i)}}});return false});$(".testSmsShipped").live("click",function(){var g=$(this).attr("successmsg");var i=$(this).attr("failmsg");var b=$("#customtoken").val();var c=$("#langvalue").val();var f=$("#sender_shipment").val();var h=$("#sender_shipment_message").val();var d=$("#sender_shipment_number").val();var a=$("#id_shop_group").val();var e=$("#id_shop").val();$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxTestSmsShipped.php",data:{sender:f,message:h,number:d,langvalue:c,token:b,id_shop_group:a,id_shop:e},beforeSend:function(){$("#ajax-busy").show()},success:function(k){$("#ajax-busy").hide();var j=$.parseJSON(k);if(j.result==true){alert(g)}else{alert(i)}}});return false});$(".testSmsCampaignsend").live("click",function(){var j=$(this).attr("successmsg");var l=$(this).attr("failmsg");var i=$(this).attr("sendererr");var c=$(this).attr("mobileerr");var a=$(this).attr("messageerr");var d=$("#customtoken").val();var f=$("#langvalue").val();var h=$("#sender_campaign").val();var k=$("#sender_campaign_message").val();var e=$("#sender_campaign_number_test").val();var b=$("#id_shop_group").val();var g=$("#id_shop").val();if(h==""){alert(i)}else{if(k==""){alert(a)}else{if(e==""){alert(c)}else{$.ajax({type:"POST",async:false,url:base_url+"modules/sendinblue/ajaxCampaignSmsTest.php",data:{sender:h,message:k,number:e,langvalue:f,token:d,id_shop_group:b,id_shop:g},beforeSend:function(){$("#ajax-busy").show()},success:function(n){$("#ajax-busy").hide();var m=$.parseJSON(n);if(m.result==true){alert(j)}else{alert(l)}}})}}}return false});$(".sender_order_save").live("click",function(){var c=$(this).attr("senderfield");var d=$(this).attr("messagefield");var a=$("#sender_order").val();var b=$("#sender_order_message").val();if(a==""){alert(c);document.getElementById("sender_order").focus();return false}else{if(b==""){alert(d);document.getElementById("sender_order_message").focus();return false}}});$(".sender_shipment_save").live("click",function(){var c=$(this).attr("senderfield");var d=$(this).attr("messagefield");var a=$("#sender_shipment").val();var b=$("#sender_shipment_message").val();if(a==""){alert(c);document.getElementById("sender_shipment").focus();return false}else{if(b==""){alert(d);document.getElementById("sender_shipment_message").focus();return false}}});$(".sender_campaign_save").live("click",function(){var c=$(this).attr("senderfield");var d=$(this).attr("messagefield");var a=$("#sender_campaign").val();var b=$("#sender_campaign_message").val();if(a==""){alert(c);document.getElementById("sender_campaign").focus();return false}else{if(b==""){alert(d);document.getElementById("sender_campaign_message").focus();return false}}});function isNormalInteger(a){return/^\+?(0|[0-9]\d*)$/.test(a)}function RegexEmail(b){var c=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;var a=c.test(b);return a}function validate(b,a){if(document.notify_sms_mail_form.sendin_notify_email.value==""||RegexEmail(document.notify_sms_mail_form.sendin_notify_email.value)==false){alert(b);document.notify_sms_mail_form.sendin_notify_email.focus();return false}if(document.notify_sms_mail_form.sendin_notify_value.value<=0||isNormalInteger(document.notify_sms_mail_form.sendin_notify_value.value)==false){alert(a);document.notify_sms_mail_form.sendin_notify_value.focus();return false}return(true)}function isInteger(b){var a=/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;if(a.test(b)){return true}return false};
